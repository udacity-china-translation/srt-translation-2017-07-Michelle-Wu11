1
00:00:00,517 --> 00:00:01,089
好的

2
00:00:01,089 --> 00:00:04,021
我们已就数据可能出现的分布情况讨论了很多

3
00:00:04,021 --> 00:00:06,800
并讲解了如何使用那些信息来选择特定的总指标

4
00:00:06,800 --> 00:00:09,897
或理解总指标的敏感性和稳健性

5
00:00:09,897 --> 00:00:12,967
现在我们需要更加严谨

6
00:00:12,967 --> 00:00:15,657
要为指标计算置信区间

7
00:00:15,657 --> 00:00:17,167
你需要两种数据

8
00:00:17,167 --> 00:00:20,107
你需要了解指标的方差 也就是标准偏差

9
00:00:20,107 --> 00:00:23,553
还需要了解其分布情况

10
00:00:23,553 --> 00:00:26,126
在第一课中 我们讨论了一种概率指标的置信区间

11
00:00:26,126 --> 00:00:29,550
我们假设它呈二项分布

12
00:00:29,550 --> 00:00:31,751
随后我们计算了标准误差

13
00:00:31,751 --> 00:00:35,377
这是我们对标准偏差的估计值 我们使用了以下公式

14
00:00:35,377 --> 00:00:38,177
p? 乘以 1 减 p? 除以 N 的平方根

15
00:00:38,177 --> 00:00:41,760
随后我们计算了置信区间宽度 也就是误差范围

16
00:00:41,760 --> 00:00:45,413
等于置信度的 z 分数乘以标准误差

17
00:00:45,413 --> 00:00:48,307
我们必须知道标准误差

18
00:00:48,307 --> 00:00:52,183
我们还在两个方面利用了这是一个二项分布的事实

19
00:00:52,183 --> 00:00:55,328
首先 我们根据这是一个二项分布的事实

20
00:00:55,328 --> 00:00:57,133
得出这个标准误差的计算公式

21
00:00:57,133 --> 00:01:01,238
第二 我们假设这是一个正态分布

22
00:01:01,238 --> 00:01:02,902
得出这个误差范围计算公式

23
00:01:02,902 --> 00:01:06,697
注意 N 越大 二项分布就越趋近于正态分布

24
00:01:06,697 --> 00:01:10,846
总结如下 当指标类型为概率指标时

25
00:01:10,846 --> 00:01:14,264
你实际上可以假设一个二项分布

26
00:01:14,264 --> 00:01:18,046
当样本量足够大时 它会趋近于正态分布

27
00:01:18,046 --> 00:01:20,813
估计方差的计算公式为 p? 乘以 1 减 p? 除以 N

28
00:01:20,813 --> 00:01:24,192
现在我们来看你可能遇到的其他指标类型

29
00:01:24,192 --> 00:01:27,657
如果指标是一个平均数 根据中心极限定理

30
00:01:27,657 --> 00:01:31,767
当样本量足够大时 指标将呈正态分布

31
00:01:31,767 --> 00:01:35,549
指标方差的计算公式为

32
00:01:35,549 --> 00:01:38,965
样本方差

33
00:01:38,965 --> 00:01:39,643
sigma hat 的平方除以样本量 N

34
00:01:39,643 --> 00:01:42,890
注意样本方差与实际指标方差的区别

35
00:01:42,890 --> 00:01:46,768
样本方差是所有数据点的方差

36
00:01:46,768 --> 00:01:49,949
而实际指标方差是

37
00:01:49,949 --> 00:01:54,113
在采集新样本时 你希望该指标如何变化

38
00:01:54,113 --> 00:01:57,000
我们稍后将举例说明这个问题

39
00:01:57,000 --> 00:01:59,843
这个估计方差是一个分析结果

40
00:01:59,843 --> 00:02:02,013
但是 对于其他类型的总指标

41
00:02:02,013 --> 00:02:04,893
从分析角度估计方差可能没有这么简单

42
00:02:04,893 --> 00:02:08,233
以中位数为例 如果基础数据很标准

43
00:02:08,233 --> 00:02:11,640
且样本量很大 那么中位数将接近正态分布

44
00:02:11,640 --> 00:02:13,870
如果基础数据不标准

45
00:02:13,870 --> 00:02:16,239
那么中位数也可能不呈正态分布

46
00:02:16,239 --> 00:02:19,734
例如 假设你在考虑延迟问题 且延迟呈二项分布

47
00:02:19,734 --> 00:02:23,510
因为某些用户的互联网连接速度很慢

48
00:02:23,510 --> 00:02:25,047
而另一些用户的速度很快

49
00:02:25,047 --> 00:02:28,837
当样本量足够大时 平均数将呈正态分布

50
00:02:28,837 --> 00:02:32,672
这条蓝色是基础数据的分布情况

51
00:02:32,672 --> 00:02:35,353
粉红线是平均数的分布情况

52
00:02:35,353 --> 00:02:38,386
另一方面 中位数可能不呈正态分布

53
00:02:38,386 --> 00:02:40,847
在这个例子中 你可以看到它很不规律

54
00:02:40,847 --> 00:02:45,023
除中位数以外 其他百分位数也可能不呈正态分布

55
00:02:45,023 --> 00:02:46,984
为了估计中位数的方差

56
00:02:46,984 --> 00:02:50,973
你需要假设基础数据的分布情况

57
00:02:50,973 --> 00:02:52,901
根据你的假设

58
00:02:52,901 --> 00:02:56,187
你或许无法轻松估计其分析方差

59
00:02:56,187 --> 00:03:00,330
对于中位数或其他百分位数

60
00:03:00,330 --> 00:03:03,596
指标的分布情况取决于基础数据的分布

61
00:03:03,596 --> 00:03:06,453
而你对方差的估计也将取决于这一假设

62
00:03:06,453 --> 00:03:09,702
另一种通常更易于分析的指标是计数

63
00:03:09,702 --> 00:03:12,446
准确来说 就是你经常会观察两个计数之间的差异

64
00:03:12,446 --> 00:03:14,663
例如试验组减去对照组

65
00:03:14,663 --> 00:03:18,278
虽然这种差异并非总是呈正态分布

66
00:03:18,278 --> 00:03:21,830
但对于人口这样的数据 则经常呈正态分布

67
00:03:21,830 --> 00:03:25,254
差异的估计方差即

68
00:03:25,254 --> 00:03:26,822
各个变量的方差之和

69
00:03:26,822 --> 00:03:31,086
比率等其他类型指标的分布情况通常更为不寻常

70
00:03:31,086 --> 00:03:33,368
但是也有分析方法

71
00:03:33,368 --> 00:03:35,873
比率通常会呈泊松分布

72
00:03:35,873 --> 00:03:39,705
泊松分布的方差实际上与平均数相同

73
00:03:39,705 --> 00:03:42,089
在对其进行估计时 我们可以用平均数作为样本

74
00:03:42,089 --> 00:03:43,072
也就是 x拔

75
00:03:43,072 --> 00:03:44,329
然而在实验中

76
00:03:44,329 --> 00:03:46,950
你可能想关注两个比率之间的差异

77
00:03:46,950 --> 00:03:50,699
也就是说 你想估计两个泊松分布之间的差异

78
00:03:50,699 --> 00:03:52,245
的方差

79
00:03:52,245 --> 00:03:55,528
或者你可能要测试平均数的比率是否接近一

80
00:03:55,528 --> 00:03:57,290
并计算其方差

81
00:03:57,290 --> 00:04:01,517
与正态分布数据不同的是 比率中的这些差异

82
00:04:01,517 --> 00:04:04,537
可能既不呈泊松分布 也不呈正态分布

83
00:04:04,537 --> 00:04:07,440
你可以使用多种方法来进行分析

84
00:04:07,440 --> 00:04:09,557
具体请参阅讲师备注

85
00:04:09,557 --> 00:04:13,022
不过大多数人可能不会想这么做 因为投资太大

86
00:04:13,022 --> 00:04:14,080
而且很难归纳

87
00:04:14,080 --> 00:04:16,237
我们稍后讨论其他选项

88
00:04:16,237 --> 00:04:19,310
最后 各公司通常会希望使用一般比率

89
00:04:19,310 --> 00:04:23,463
例如 你可能想使用试验组和对照组的点击概率的比率

90
00:04:23,463 --> 00:04:26,713
而不使用其差异

91
00:04:26,713 --> 00:04:30,729
就像中位数一样 比率的分布情况和估计方差

92
00:04:30,729 --> 00:04:34,267
取决于分子和分母的分布情况

93
00:04:34,267 --> 00:04:36,819
你通常不知道它们的分布情况

94
00:04:36,819 --> 00:04:39,081
对于比两个正态分布更复杂的情况

95
00:04:39,081 --> 00:04:41,990
你通常得不出其方差的分析结果

96
00:04:41,990 --> 00:04:44,481
你已经使用二项分布计算出

97
00:04:44,481 --> 00:04:47,466
一个小于一的概率置信区间

98
00:04:47,466 --> 00:04:50,264
现在请计算一个平均数的置信区间

99
00:04:50,264 --> 00:04:52,732
它呈正态分布

100
00:04:52,732 --> 00:04:56,294
假设优达学城想要测量

101
00:04:56,294 --> 00:04:57,570
每周访问网站主页的学员的平均数

102
00:04:57,570 --> 00:05:01,602
他们记录了七周的主页访问量并获得了七个测量结果

103
00:05:01,602 --> 00:05:02,616
每周一个

104
00:05:02,616 --> 00:05:04,377
他们可以根据这些数据计算出一个平均数

105
00:05:04,377 --> 00:05:08,145
我使用 N bar 来表示 计算方法是所有数据点之和除以 7

106
00:05:08,145 --> 00:05:10,912
这个测量结果的置信区间是什么？

107
00:05:10,912 --> 00:05:14,891
要回答这个问题 你需要计算优达学城采集的七个计数的标准偏差

108
00:05:14,891 --> 00:05:17,677
我称之为 sigma

109
00:05:17,677 --> 00:05:18,400
你可以用任何方法来计算

110
00:05:18,400 --> 00:05:21,804
其中一种方法是 将数据输入 Google 电子数据表

111
00:05:21,804 --> 00:05:25,285
或者将数据复制到讲师备注中链接的电子数据表中

112
00:05:25,285 --> 00:05:28,203
要计算标准偏差 你需要输入等于号

113
00:05:28,203 --> 00:05:30,064
并使用标准偏差函数

114
00:05:30,064 --> 00:05:33,956
然后选择适当的范围 添加结束括号

115
00:05:33,956 --> 00:05:34,799
然后按回车键

116
00:05:34,799 --> 00:05:37,737
大多数编程语言还内置有计算标准偏差的函数

117
00:05:37,737 --> 00:05:40,426
或者你也可以自己编写一个函数

118
00:05:40,426 --> 00:05:43,595
你还需要计算平均数的标准误差

119
00:05:43,595 --> 00:05:46,067
它等于方差的平方根

120
00:05:46,067 --> 00:05:48,482
也就是 sigma 除以 7 的平方根

121
00:05:48,482 --> 00:05:51,498
因为 7 是样本的数据点数量

122
00:05:51,498 --> 00:05:54,164
这样就可以为优达学城每周用户平均数的测量结果

123
00:05:54,164 --> 00:05:57,827
计算出 95% 置信区间

124
00:05:57,827 --> 00:06:01,233
请将你算出的置信区间的上限和下限写在这两个方框中

125
00:06:01,233 --> 00:06:03,100
数值四舍五入至最近的整数
